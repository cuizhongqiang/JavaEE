
<div class="col-xs-12" >
    <div class="page-header">
        <h1>
            权限管理
        </h1>
    </div><!-- /.page-header -->
    <div class="btn-group">
        <button type="button" class="btn btn-default" ng-click="toInsert()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
        </button>
    </div>
    <table id="permission-table" class="table table-striped table-bordered table-hover"></table>
    <!-- 模态框（Modal） -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <form id="mainForm" class="form-horizontal" role="form">
            <input type="hidden" name="pid" value="{{model.pid}}">
            <input type="hidden" name="level"  value="{{model.level}}">
            <input type="hidden" id="permissionId" name="id" value="{{model.id}}">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel">
                            {{myModalLabel}}
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="col-sm-2 control-label font-lable">名称</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="名称" id="perName" name="perName" value="{{model.perName}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label font-lable">编码</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="编码" name="perCode" value="{{model.perCode}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label font-lable">类别</label>
                            <div class="col-sm-10">
                                <label class="radio-inline">
                                    <input type="radio" name="perType" value="M" ng-checked="model.perType=='M'"> 菜单类型
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="perType" value="F" ng-checked="model.perType=='F'">  功能类型
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label font-lable">资源路径</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" placeholder="资源路径" name="perUrl" value="{{model.perUrl}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label font-lable">状态</label>
                            <div class="col-sm-10">
                                <label class="radio-inline">
                                    <input type="radio" name="status" value="1" ng-checked="model.status==1"> 启用
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="status" value="0" ng-checked="model.status==0"> 禁用
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label font-lable">排序</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" id="sort" placeholder="排序" name="sort" value="{{model.sort}}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label font-lable">描述</label>
                            <div class="col-sm-10">
                                <textarea type="text" class="form-control" placeholder="描述" name="description">{{model.description}}</textarea>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="submitButton"
                                data-loading-text="Loading..."
                                data-container="body" data-toggle="popover" data-placement="right"
                                data-content="保存成功">提交保存</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div><!-- /.row -->

<script type="text/javascript">
    formValidator();
    function formValidator() {
        $('#mainForm').bootstrapValidator({
            message: '这个值无效',
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                perName: {
                    message: '名称无效',
                    validators: {
                        notEmpty: {
                            message: '名称是必需的，不能是空的'
                        },
                        stringLength: {
                            min: 2,
                            max: 20,
                            message: '名称必须大于2，长度小于20'
                        },
                    }
                },
                perCode: {
                    validators: {
                        notEmpty: {
                            message: '编码是必需的，不能是空的'
                        }
                    }
                }
            }
        });
    }
</script>


